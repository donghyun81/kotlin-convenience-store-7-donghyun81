# kotlin-convenience-store-precourse

# W 편의점 구매 흐름

---

## 1. 인사

- [x] 어떤 앱인지 소개하는 내용 출력

---

## 2. 편의점을 생성

- [x] 파일 정보를 읽어서 제품 데이터를 생성
- [x] 파일 정보를 읽어서 프로모션 데이터를 생성
- [x] 제품과 프로모션 데이터를 통해서 편의점을 생성

---

## 3. 편의점에서 보유중인 상품 출력

- [x] 아래에 예시에 맞게 출력

```plaintext
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 10개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 5개
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개
```

---

## 4. 구매할 상품 입력

- [x] 사용자에게 구매할 상품을 입력 받는다 (예: `[사이다-2],[감자칩-1]`)
- [x] 사용자가 입력한 값을 이름과 개수로 만든다.
- [x] 이름과 개수로 요청 제품으로 초기화한다.

### 4.0 입력 예외 처리

- [x] 사용자가 공백을 입력 할 경우에 예외를 발생시킨다.
- [x] 나눠진 값이 '['로 시작하고 ']'로 끝나지 않으면 예외를 발생 시킨다.
- [x] 나눠진 값을 상품명과 개수로 나누기 위해 '-'로 나눈 값의 크기가 2가 아닐 경우 예외를 발생 시킨다
- [x] 개수가 양의 정수가 아닐 경우에 예외를 발생시킨다.

---

## 5. 재고 확인

- [x] 요청 제품이 편의점에 있는지 확인한다.
- [x] 요청 제품의 개수가 편의점에 있는지 확인한다.

---

### 5.0 재고 확인 예외 처리

- [x] 요청 제품이 없을 경우에 예외를 발생시킨다.
- [x] 요청 제품의 개수가 없을 경우에 예외를 발생시킨다.

---

## 6. 제품이 프로모션중인지 확인

- [x] 제품이 프로모션이 포함되어 있는지 확인
- [x] 제품이 프로모션 기간인지 확인

---

## 7. 프로모션일 경우

- [x] 프로모션 혜택 적용

---

### 7.1 프로모션에서 무료로 추가할 개수가 있을 경우

- [x] 추가 할 지 여부를 입력 받아서 처리
- [x] 추가 할 경우 -> 무료로 추가할 개수 만큼 추가해서 구매
- [x] 추가 하지 않을 경우 -> 프로모션만 적용해서 구매

---

### 7.2 프로모션 재고가 부족할 경우

- [x] 부족한 재고는 프로모션 없이 구매 할 지 여부를 입력 받아서 처리
- [x] 프로모션 없이 구매 -> 프로모션 적용외네는 일반 구매
- [x] 프로모션 만 구매 -> 프로모션으로 구매할 재고 외에는 개수 제외

---

## 8. 제품 구매

- [x] 구매한 제품 개수만큼 편의점에서 재고 제외
- [x] 제품의 구매한 정보를 반환

---

## 9. 멤버십 할인

- [x] 멤버십인지 여부를 입력 받아 멤버십 적용
- [x] 멤버십일 경우 -> 프로모션 제외 30% 할인(최대 한도 8000)
- [x] 멤버십이 아닐 경우 -> 멤버십 할인 x

---

## 10. 영수증 출력

- [x] 구매한 정보들을 통해 구매 상품 내역,증정 상품 내역,금액 정보 출력

### 10.1 구매 상품 내역, 증정 상품 내역, 금액 정보 출력 예시

```plaintext
=============== W 편의점 ===============
상품명           수량     금액
콜라            3       3,000
에너지바        5       10,000
=============== 증 정 =================
콜라            1
======================================
총구매액        8       13,000
행사할인               -1,000
멤버십할인             -3,000
내실돈                  9,000
```

---

## 11. 추가 구매 여부 확인

- [x] 추가 구매 여부를 입력 받음
- [x] 추가 구매 -> 3.편의점에서 보유중인 상품 출력 부터 다시 반복
- [x] 추가 구매를 안할 경우 -> 프로그램 종료