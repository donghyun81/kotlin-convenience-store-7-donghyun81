# kotlin-convenience-store-precourse

# W 편의점 구매 흐름

---

## 1. 인사

- **안녕하세요. W편의점입니다.**
- 현재 보유하고 있는 상품을 안내합니다.

---

## 2. 인벤토리 상품 생성 및 상품 출력

```plaintext
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 10개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 5개
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개
```

---

## 3. 구매할 상품 입력

- **구매할 상품명과 수량을 입력해 주세요.** (예: `[사이다-2], [감자칩-1]`)

  ### 3.1 형식 오류 시
    - `[ERROR] 올바르지 않은 형식으로 입력했습니다. 다시 입력해 주세요.`

---

## 4. 재고 확인

### 4.1 존재하지 않는 상품 입력 시

- `[ERROR] 존재하지 않는 상품입니다. 다시 입력해 주세요.`

### 4.2 구매 수량이 재고 초과 시

- `[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요.`

---

## 5. 상품 확인 및 추가 상품 여부 확인

### 5.1 프로모션 상품 여부 확인

### 5.2 프로모션 미적용 시

- 일반 구매 진행

### 5.3 프로모션 적용 시

- 적게 구매한 경우 추가 여부 확인:
    - **안내 메시지:** `현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)`
        - **Y** -> 추가 시 구매 개수 증가
        - **N** -> 추가 없이 구매

---

## 6. 프로모션 재고 부족 확인

### 6.1 부족 시 일부 수량을 정가로 구매할지 확인

- **Y** -> 일부 수량만 정가로 계산
- **N** -> 정가로 결제하는 수량 제외

---

## 7. 멤버십 할인 여부 확인

- **Y** -> 멤버십 할인 적용
- **N** -> 멤버십 할인 미적용

---

## 8. 구매 상품 내역, 증정 상품 내역, 금액 정보 출력

```plaintext
=============== W 편의점 ===============
상품명           수량     금액
콜라            3       3,000
에너지바        5       10,000
=============== 증 정 =================
콜라            1
======================================
총구매액        8       13,000
행사할인               -1,000
멤버십할인             -3,000
내실돈                  9,000
```

## 9. 추가 구매 여부 확인

- **출력** : 감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
- **Y** -> 1단계로 돌아감 (새로운 상품 구매)
- **N** -> 구매 종료